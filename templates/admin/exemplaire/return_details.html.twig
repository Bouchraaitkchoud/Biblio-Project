{% extends 'admin/dashboard/index.html.twig' %}

{% block body %}
    <h2>Return Book</h2>
    <div class="mb-3">
        <b>Barcode:</b> {{ exemplaire.barcode }}<br>
        <b>Book Title:</b> {{ exemplaire.book.title }}
    </div>
    <form method="post" action="{{ path('admin_exemplaire_mark_returned', {id: exemplaire.id}) }}" enctype="multipart/form-data" class="mt-4">
        <div class="mb-3">
            <label for="condition">Condition of Book</label>
            <select name="condition" id="condition" class="form-control" required>
                <option value="Excellent">Excellent</option>
                <option value="Good">Good</option>
                <option value="Damaged">Damaged</option>
                <option value="Lost">Lost</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="notes">Notes (optional)</label>
            <textarea name="notes" id="notes" class="form-control" rows="2"></textarea>
        </div>
        <div class="mb-3">
            <label for="photo">Upload Photo (optional)</label>
            <input type="file" name="photo" id="photo" class="form-control">
        </div>
        <div class="mb-3">
            <label for="date_returned">Date Returned</label>
            <input type="date" name="date_returned" id="date_returned" class="form-control" value="{{ "now"|date('Y-m-d') }}" required>
        </div>
        <div class="mb-3">
            <label>Flags</label><br>
            <input type="checkbox" name="flag_late" id="flag_late"> <label for="flag_late">Late Return</label>
            <input type="checkbox" name="flag_damaged" id="flag_damaged" style="margin-left:15px;"> <label for="flag_damaged">Damaged</label>
        </div>
        <div class="mb-3">
            <label for="fine">Suggest Fine (optional)</label>
            <input type="number" name="fine" id="fine" class="form-control" min="0" step="0.01">
        </div>
        <div class="mb-3">
            <input type="checkbox" name="print_receipt" id="print_receipt" value="1"> <label for="print_receipt">Print Return Receipt</label><br>
            <input type="checkbox" name="email_receipt" id="email_receipt" value="1"> <label for="email_receipt">Email Return Receipt</label>
        </div>
        <div class="text-end">
            <button type="submit" class="btn btn-success">Submit Return</button>
            <a href="{{ path('admin_dashboard') }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
{% endblock %} 